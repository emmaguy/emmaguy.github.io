<!DOCTYPE html>
<html lang="en-us">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.69.2" />

<link rel="shortcut icon" href="favicon.ico" />


<title>Dynamically changing SVG colours on Android - Emma&#39;s Blog</title>

<meta name="author" content="" />
<meta name="description" content="Recently, I needed to change the colour of part of a drawable - and I wanted to do it better than manually swapping out the whole image, or swapping in and out the changing part and overlaying this on top of a base image.
I knew I wanted the assets to be vector based if at all possible - SVG support was added in Lollipop with the VectorDrawable class and have been a great addition." />

<meta name="keywords" content="android" />


<meta property="og:title" content="Dynamically changing SVG colours on Android" />
<meta property="og:description" content="Recently, I needed to change the colour of part of a drawable - and I wanted to do it better than manually swapping out the whole image, or swapping in and out the changing part and overlaying this on top of a base image.
I knew I wanted the assets to be vector based if at all possible - SVG support was added in Lollipop with the VectorDrawable class and have been a great addition." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://emmaguy.github.io/posts/2015-nov-29-dynamic-svg-colours/" />
<meta property="article:published_time" content="2015-11-29T13:08:07+01:00" />
<meta property="article:modified_time" content="2015-11-29T13:08:07+01:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Dynamically changing SVG colours on Android"/>
<meta name="twitter:description" content="Recently, I needed to change the colour of part of a drawable - and I wanted to do it better than manually swapping out the whole image, or swapping in and out the changing part and overlaying this on top of a base image.
I knew I wanted the assets to be vector based if at all possible - SVG support was added in Lollipop with the VectorDrawable class and have been a great addition."/>






<link rel="stylesheet" href="https://emmaguy.github.io/css/main.min.css" />




<script src="https://emmaguy.github.io/js/jquery.min.js"></script>

<script src="https://emmaguy.github.io/js/lazysizes.min.js"></script>

<link rel="stylesheet" href="https://emmaguy.github.io/css/all.min.css" />









<body class="d-flex flex-column h-100">
    <header>
    
    <div class="container-lg clearfix">
        <div class="col-12 p-3">
            <a id="main-title" href="https://emmaguy.github.io/">Emma&#39;s Blog</a>
            <span id="sub-title"></span>
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-md-9 col-12 float-left" id="content">
                
<article>
    <h4 id="post-title">
        <a href="https://emmaguy.github.io/posts/2015-nov-29-dynamic-svg-colours/">Dynamically changing SVG colours on Android</a>
    </h4>
    <div id="post-meta">
        <span>
    <time datetime="2015-11-29 13:08:07 &#43;0100 &#43;0100">29 Nov 2015</time> |
</span>
<span>
    <span>2 minute read</span> | 
</span>
<span>
    
    
    <a href="https://emmaguy.github.io//tags/android/">android</a>
    
    
</span>
    </div>
    
    <div class="markdown-body" id="post-content">
        <hr>
<p>Recently, I needed to change the colour of part of a drawable - and I wanted to do it better than manually swapping out the whole image, or swapping in and out the changing part and overlaying this on top of a base image.</p>
<p>I knew I wanted the assets to be vector based if at all possible - SVG support was added in Lollipop with the VectorDrawable class and have been a great addition. Assets appear beautifully sharp, and gone are the days of adding multiple pngs to cater for different screen sizes.</p>
<p>I found that with custom attributes and themes, doing what I wanted could be achieved relatively easily.</p>
<figure>
    <img src="/img/svg-christmas-tree.gif" height="500"/> <figcaption>
            <h4>Changing bauble colours on a Christmas tree</h4>
        </figcaption>
</figure>

<p>First, we create attributes for the two kinds of bauble, so we can change their colours:</p>
<script type="application/javascript" src="https://gist.github.com/emmaguy/da7d309097b7a6279ca4.js"></script>

<p>Then, in the VectorDrawable, set the parts we want to dynamically change to use these attributes:</p>
<script type="application/javascript" src="https://gist.github.com/emmaguy/21fbbb6f407124986697.js"></script>

<p>Create themes and set the colours you want to use:</p>
<script type="application/javascript" src="https://gist.github.com/emmaguy/cdca90c007c94858516d.js"></script>

<p>Use the drawable in an ImageView:</p>
<script type="application/javascript" src="https://gist.github.com/emmaguy/fc404609ef7fe89ab046.js"></script>

<p>That&rsquo;s it! When you want to change the colours, simply set a different theme and your drawable will update.</p>
<p>See the <a href="https://github.com/emmaguy/dynamic-svg-colours" target="_blank">GitHub repo</a> for a full sample.</p>
<p>Update: If you specify each attribute within a different theme, you can also choose which to apply at runtime by creating a Theme dynamically. This is useful when you know at compile time what colours a certain element are, but don&rsquo;t know until runtime which need to be updated.</p>
<script type="application/javascript" src="https://gist.github.com/emmaguy/824c40cdb2a8fc20ce86.js"></script>

<p>Note: for every different part of your image you want to change, you need a different attribute - so if you happen to have an SVG made up of lots and lots of elements, and you want to change them all separately, this is probably not the best solution for you.</p>
<p>Additionally, this is v21+ only - the backwards compatibility support for VectorDrawables before 21 creates static pngs, so changing the theme at runtime will have no effect.</p>
<hr>
<p>Special thanks to <a href="https://blog.stylingandroid.com/" target="_blank">Mark Allison</a> for the idea and the <a href="http://www.flaticon.com/authors/freepik" target="_blank">creator of the Christmas tree</a> SVG used.</p>
<p>If you enjoyed reading this post, you can find me on twitter <a href="http://www.twitter.com/emmaguy" target="_blank">@emmaguy</a></p>

    </div>
</article>




            </div>
            
            <div class="col-md-3 col-12 float-left" id="sidebar">
                
<div id="widget-toc">
    <h5>TOC</h5>
    <nav id="TableOfContents"></nav>
</div>

<div id="widget-pages">
    <h5>Pages</h5>
    <ul>
        
        
        <li>
            <a href="/">Home</a>
        </li>
        
        <li>
            <a href="/speaking/">Speaking</a>
        </li>
        
        <li>
            <a href="/about/">About</a>
        </li>
        
    </ul>
</div>
<div id="widget-tags">
    <h5>Tags</h5>
    <div>
        
        <span>
            <a href="https://emmaguy.github.io/tags/android/">android</a>
        </span>
        
        <span>
            <a href="https://emmaguy.github.io/tags/apk-size/">apk size</a>
        </span>
        
        <span>
            <a href="https://emmaguy.github.io/tags/kotlin/">kotlin</a>
        </span>
        
        <span>
            <a href="https://emmaguy.github.io/tags/meta/">meta</a>
        </span>
        
        <span>
            <a href="https://emmaguy.github.io/tags/modularisation/">modularisation</a>
        </span>
        
        <span>
            <a href="https://emmaguy.github.io/tags/moshi/">moshi</a>
        </span>
        
        <span>
            <a href="https://emmaguy.github.io/tags/open-source/">open source</a>
        </span>
        
    </div>
</div>
<div id="widget-links">
    <h5>Links</h5>
    <ul>
        
        <li>
            <a href="https://github.com/emmaguy" target="_blank"><span>GitHub</span></a>
        </li>
        
        <li>
            <a href="https://twitter.com/emmaguy" target="_blank"><span>Twitter</span></a>
        </li>
        
    </ul>
</div>

            </div>
            
            
        </div>
    </main>

    <footer>
    <div class="container-lg text-center">
        <p>&copy; 2020 <a href="https://emmaguy.github.io/"></a> | Powered by <a href="https://github.com/amzrk2/hugo-theme-fuji/" target="_blank">Fuji</a> & <a href="https://gohugo.io/" target="_blank">Hugo</a> </p>
    </div>
</footer>
    




<script>
    $("#widget-toc a").click(function () {
        $("html, body").animate({
            scrollTop: $($(this).attr("href")).offset().top
        });
        return false;
    });
</script>



</body>

</html>